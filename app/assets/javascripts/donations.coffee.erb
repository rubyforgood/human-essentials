# Place all the behaviors and hooks related to the matching controller here.
# All this logic will automatically be available in application.js.
# You can use CoffeeScript in this file: http://coffeescript.org/



$ ->
  control_id = "#donation_source"
  diaper_drive_participant_text = "<%= Donation::SOURCES[:diaper_drive] %>"
  donation_site_text = "<%= Donation::SOURCES[:dropoff] %>"
  diaper_drive_participant_container_id = "div.donation_diaper_drive_participant"
  # TODO : #225 - Rename to match new container name when model changes:
  donation_site_container_id = "div.donation_dropoff_location" 
  $(diaper_drive_participant_container_id).hide()
  $(donation_site_container_id).hide()

  $(document).on "change", control_id, (evt) ->
    selection = $(control_id + " option").filter(':selected').text()

    if (selection is diaper_drive_participant_text)
      $(diaper_drive_participant_container_id).show()
      $(donation_site_container_id).hide()
    else if (selection is donation_site_text)
      $(diaper_drive_participant_container_id).hide()
      $(donation_site_container_id).show()
    else
      $(diaper_drive_participant_container_id).hide()
      $(donation_site_container_id).hide()
