<%= render(
  "shared/filtered_card",
  id: "purchases",
  gradient: "secondary",
  title: "Itemized Donations",
  subtitle: @selected_date_range,
  type: :table,
  filter_url: reports_itemized_donations_path
) do %>

<% if @itemized_donation_data.empty? %>
  <div class="alert alert-warning" role="alert">
    No itemized donations found for the selected date range.
  </div>
<% else %>
  <table class="table table-hover striped text-left">
    <thead>
      <tr>
        <th>Item</th>
        <th class="text-right">Total Donated</th>
        <th class="text-right">Total On Hand</th>
      </tr>
    </thead>

    <tbody>
      <% @itemized_donation_data.each do |item| %>
        <tr>
          <td><%= item[:name] %></td>
          <td class="text-right"><%= item[:donated] %></td>
          <td class="text-right"><%= item[:current_onhand] || "Unknown" %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% end %>

<% end %>
